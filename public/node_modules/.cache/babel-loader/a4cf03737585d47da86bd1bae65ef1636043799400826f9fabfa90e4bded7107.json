{"ast":null,"code":"var _jsxFileName = \"/Users/sasy/Desktop/FS0623-repo-main 2/Sett2/Giorno1/esercizio/src/components/AddComment.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Button, Form } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddComment = _ref => {\n  _s();\n  let {\n    bookId,\n    aggiornaCommenti\n  } = _ref;\n  const [commentObject, setCommentObject] = useState({\n    comment: '',\n    rate: '1',\n    elementId: bookId\n  });\n  const sendNewReview = async e => {\n    e.preventDefault();\n    try {\n      const response = await fetch('https://striveschool-api.herokuapp.com/api/comments', {\n        method: 'POST',\n        headers: {\n          Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NTlkNGIyMmU2Mjg4NjAwMTg4M2YzZTQiLCJpYXQiOjE3MDQ4MDcyMDIsImV4cCI6MTcwNjAxNjgwMn0.e7OmQxOgIHbkBsvGfPEfa5XC4EmRKU8OEByZa3ytfIQ',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(commentObject)\n      });\n      if (response.ok) {\n        // il commento è stato inviato!\n        alert('commento salvato!');\n        aggiornaCommenti();\n      } else {\n        throw new Error('errore nel salvataggio del commento');\n      }\n    } catch (error) {\n      console.log('error', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: sendNewReview,\n    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"mb-1 mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Commento\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        value: commentObject.comment,\n        onChange: e => setCommentObject(prevCommentObject => ({\n          ...prevCommentObject,\n          comment: e.target.value\n        })),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Rating\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n        \"aria-label\": \"comment rating\",\n        value: commentObject.rate,\n        onChange: e => setCommentObject(prevCommentObject => ({\n          ...prevCommentObject,\n          rate: e.target.value\n        })),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      children: \"Invia\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(AddComment, \"wuJWB8ullKnCRiAUtcdO6k8arkI=\");\n_c = AddComment;\nexport default AddComment;\nvar _c;\n$RefreshReg$(_c, \"AddComment\");","map":{"version":3,"names":["React","useState","Button","Form","AddComment","bookId","aggiornaCommenti","commentObject","setCommentObject","comment","rate","elementId","sendNewReview","e","preventDefault","response","fetch","method","headers","Authorization","body","JSON","stringify","ok","alert","Error","error","console","log","prevCommentObject","target","value"],"sources":["/Users/sasy/Desktop/FS0623-repo-main 2/Sett2/Giorno1/esercizio/src/components/AddComment.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Button, Form } from 'react-bootstrap';\n\nconst AddComment = ({ bookId, aggiornaCommenti }) => {\n  const [commentObject, setCommentObject] = useState({\n    comment: '',\n    rate: '1',\n    elementId: bookId,\n  });\n\n  const sendNewReview = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await fetch(\n        'https://striveschool-api.herokuapp.com/api/comments',\n        {\n          method: 'POST',\n          headers: {\n            Authorization:\n              'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NTlkNGIyMmU2Mjg4NjAwMTg4M2YzZTQiLCJpYXQiOjE3MDQ4MDcyMDIsImV4cCI6MTcwNjAxNjgwMn0.e7OmQxOgIHbkBsvGfPEfa5XC4EmRKU8OEByZa3ytfIQ',\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(commentObject),\n        }\n      );\n      if (response.ok) {\n        // il commento è stato inviato!\n        alert('commento salvato!');\n        aggiornaCommenti();\n      } else {\n        throw new Error('errore nel salvataggio del commento');\n      }\n    } catch (error) {\n      console.log('error', error);\n    }\n  };\n\n  return (\n    <Form onSubmit={sendNewReview}>\n      <Form.Group className=\"mb-1 mt-4\">\n        <Form.Label>Commento</Form.Label>\n        <Form.Control\n          type=\"text\"\n          value={commentObject.comment}\n          onChange={(e) =>\n            setCommentObject((prevCommentObject) => ({\n              ...prevCommentObject,\n              comment: e.target.value,\n            }))\n          }\n          required\n        />\n      </Form.Group>\n      <Form.Group className=\"mb-3\">\n        <Form.Label>Rating</Form.Label>\n        <Form.Select\n          aria-label=\"comment rating\"\n          value={commentObject.rate}\n          onChange={(e) =>\n            setCommentObject((prevCommentObject) => ({\n              ...prevCommentObject,\n              rate: e.target.value,\n            }))\n          }\n        >\n          <option>1</option>\n          <option>2</option>\n          <option>3</option>\n          <option>4</option>\n          <option>5</option>\n        </Form.Select>\n      </Form.Group>\n      <Button variant=\"primary\" type=\"submit\">\n        Invia\n      </Button>\n    </Form>\n  );\n};\n\nexport default AddComment;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,MAAM,EAAEC,IAAI,QAAQ,iBAAiB;AAAC;AAE/C,MAAMC,UAAU,GAAG,QAAkC;EAAA;EAAA,IAAjC;IAAEC,MAAM;IAAEC;EAAiB,CAAC;EAC9C,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGP,QAAQ,CAAC;IACjDQ,OAAO,EAAE,EAAE;IACXC,IAAI,EAAE,GAAG;IACTC,SAAS,EAAEN;EACb,CAAC,CAAC;EAEF,MAAMO,aAAa,GAAG,MAAOC,CAAC,IAAK;IACjCA,CAAC,CAACC,cAAc,EAAE;IAClB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B,qDAAqD,EACrD;QACEC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACPC,aAAa,EACX,qLAAqL;UACvL,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACf,aAAa;MACpC,CAAC,CACF;MACD,IAAIQ,QAAQ,CAACQ,EAAE,EAAE;QACf;QACAC,KAAK,CAAC,mBAAmB,CAAC;QAC1BlB,gBAAgB,EAAE;MACpB,CAAC,MAAM;QACL,MAAM,IAAImB,KAAK,CAAC,qCAAqC,CAAC;MACxD;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC;IAC7B;EACF,CAAC;EAED,oBACE,QAAC,IAAI;IAAC,QAAQ,EAAEd,aAAc;IAAA,wBAC5B,QAAC,IAAI,CAAC,KAAK;MAAC,SAAS,EAAC,WAAW;MAAA,wBAC/B,QAAC,IAAI,CAAC,KAAK;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAsB,eACjC,QAAC,IAAI,CAAC,OAAO;QACX,IAAI,EAAC,MAAM;QACX,KAAK,EAAEL,aAAa,CAACE,OAAQ;QAC7B,QAAQ,EAAGI,CAAC,IACVL,gBAAgB,CAAEqB,iBAAiB,KAAM;UACvC,GAAGA,iBAAiB;UACpBpB,OAAO,EAAEI,CAAC,CAACiB,MAAM,CAACC;QACpB,CAAC,CAAC,CACH;QACD,QAAQ;MAAA;QAAA;QAAA;QAAA;MAAA,QACR;IAAA;MAAA;MAAA;MAAA;IAAA,QACS,eACb,QAAC,IAAI,CAAC,KAAK;MAAC,SAAS,EAAC,MAAM;MAAA,wBAC1B,QAAC,IAAI,CAAC,KAAK;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAoB,eAC/B,QAAC,IAAI,CAAC,MAAM;QACV,cAAW,gBAAgB;QAC3B,KAAK,EAAExB,aAAa,CAACG,IAAK;QAC1B,QAAQ,EAAGG,CAAC,IACVL,gBAAgB,CAAEqB,iBAAiB,KAAM;UACvC,GAAGA,iBAAiB;UACpBnB,IAAI,EAAEG,CAAC,CAACiB,MAAM,CAACC;QACjB,CAAC,CAAC,CACH;QAAA,wBAED;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAkB,eAClB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAkB,eAClB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAkB,eAClB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAkB,eAClB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAkB;MAAA;QAAA;QAAA;QAAA;MAAA,QACN;IAAA;MAAA;MAAA;MAAA;IAAA,QACH,eACb,QAAC,MAAM;MAAC,OAAO,EAAC,SAAS;MAAC,IAAI,EAAC,QAAQ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAE9B;EAAA;IAAA;IAAA;IAAA;EAAA,QACJ;AAEX,CAAC;AAAC,GA1EI3B,UAAU;AAAA,KAAVA,UAAU;AA4EhB,eAAeA,UAAU;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}