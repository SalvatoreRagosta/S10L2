{"ast":null,"code":"var _jsxFileName = \"/Users/sasy/Desktop/FS0623-repo-main 2/Sett2/Giorno1/esercizio/src/components/AddComment.jsx\";\nimport { Component } from 'react';\nimport { Button, Form } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass AddComment extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      commentObject: {\n        comment: '',\n        rate: '1',\n        elementId: this.props.bookId\n      }\n    };\n    this.sendNewReview = async e => {\n      e.preventDefault();\n      try {\n        const response = await fetch('https://striveschool-api.herokuapp.com/api/comments', {\n          method: 'POST',\n          headers: {\n            Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NTlkNGIyMmU2Mjg4NjAwMTg4M2YzZTQiLCJpYXQiOjE3MDQ4MDcyMDIsImV4cCI6MTcwNjAxNjgwMn0.e7OmQxOgIHbkBsvGfPEfa5XC4EmRKU8OEByZa3ytfIQ',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(this.state.commentObject)\n        });\n        if (response.ok) {\n          // il commento è stato inviato!\n          alert('commento salvato!');\n          this.props.aggiornaCommenti();\n        } else {\n          throw new Error('errore nel salvataggio del commento');\n        }\n      } catch (error) {\n        console.log('error', error);\n      }\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: this.sendNewReview,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-1 mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Commento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          value: this.state.commentObject.comment,\n          onChange: e => {\n            this.setState({\n              commentObject: {\n                ...this.state.commentObject,\n                comment: e.target.value\n              }\n            });\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Rating\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n          \"aria-label\": \"comment rating\",\n          value: this.state.commentObject.rate,\n          onChange: e => {\n            this.setState({\n              commentObject: {\n                ...this.state.commentObject,\n                rate: e.target.value\n              }\n            });\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        children: \"Invia\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default AddComment;","map":{"version":3,"names":["Component","Button","Form","AddComment","state","commentObject","comment","rate","elementId","props","bookId","sendNewReview","e","preventDefault","response","fetch","method","headers","Authorization","body","JSON","stringify","ok","alert","aggiornaCommenti","Error","error","console","log","render","setState","target","value"],"sources":["/Users/sasy/Desktop/FS0623-repo-main 2/Sett2/Giorno1/esercizio/src/components/AddComment.jsx"],"sourcesContent":["import { Component } from 'react'\nimport { Button, Form } from 'react-bootstrap'\n\nclass AddComment extends Component {\n  state = {\n    commentObject: {\n      comment: '',\n      rate: '1',\n      elementId: this.props.bookId,\n    },\n  }\n\n  sendNewReview = async (e) => {\n    e.preventDefault()\n    try {\n      const response = await fetch(\n        'https://striveschool-api.herokuapp.com/api/comments',\n        {\n          method: 'POST',\n          headers: {\n            Authorization:\n              'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NTlkNGIyMmU2Mjg4NjAwMTg4M2YzZTQiLCJpYXQiOjE3MDQ4MDcyMDIsImV4cCI6MTcwNjAxNjgwMn0.e7OmQxOgIHbkBsvGfPEfa5XC4EmRKU8OEByZa3ytfIQ',\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(this.state.commentObject),\n        }\n      )\n      if (response.ok) {\n        // il commento è stato inviato!\n        alert('commento salvato!');\n        this.props.aggiornaCommenti();\n      } else {\n        throw new Error('errore nel salvataggio del commento')\n      }\n    } catch (error) {\n      console.log('error', error)\n    }\n  }\n\n  render() {\n    return (\n      <Form onSubmit={this.sendNewReview}>\n        <Form.Group className=\"mb-1 mt-4\">\n          <Form.Label>Commento</Form.Label>\n          <Form.Control\n            type=\"text\"\n            value={this.state.commentObject.comment}\n            onChange={(e) => {\n              this.setState({\n                commentObject: {\n                  ...this.state.commentObject,\n                  comment: e.target.value,\n                },\n              })\n            }}\n            required\n          />\n        </Form.Group>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Rating</Form.Label>\n          <Form.Select\n            aria-label=\"comment rating\"\n            value={this.state.commentObject.rate}\n            onChange={(e) => {\n              this.setState({\n                commentObject: {\n                  ...this.state.commentObject,\n                  rate: e.target.value,\n                },\n              })\n            }}\n          >\n            <option>1</option>\n            <option>2</option>\n            <option>3</option>\n            <option>4</option>\n            <option>5</option>\n          </Form.Select>\n        </Form.Group>\n        <Button variant=\"primary\" type=\"submit\">\n          Invia\n        </Button>\n      </Form>\n    )\n  }\n}\n\nexport default AddComment\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}